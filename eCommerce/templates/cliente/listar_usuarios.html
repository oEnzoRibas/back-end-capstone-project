{%extends 'base.html' %}

<header>
    <nav class="navbar navbar-expand-lg navbar-light bg-light">
        <div class="container">
            {# Logo e link para a Home (assumindo que 'index.index' 칠 a Home) #}
            <a class="navbar-brand" href="{{ url_for('index.index') }}">
                游 eCommerce
            </a>

            <div class="navbar-nav ms-auto">

                {# Link universal para o Cat치logo #}
                <a class="nav-link" href="{{ url_for('produtos.listar') }}">
                    Cat치logo
                </a>

                {# Link universal para o Carrinho #}
                <a class="nav-link" href="{{ url_for('carrinho.visualizar') }}">
                    Carrinho
                </a>

                {# ---------------------------------------------------- #}
                {# OP칂칏ES APENAS PARA ADMINISTRADOR #}
                {% if current_user.is_authenticated and current_user.role == 'admin' %}
                <a class="nav-link fw-bold text-danger" href="{{ url_for('cliente.listar_usuarios') }}">
                    <i class="fas fa-users"></i> Usu치rios
                </a>
                {% endif %}
                {# ---------------------------------------------------- #}

                {# L칍GICA CONDICIONAL DE AUTENTICA칂츾O #}
                {% if current_user.is_authenticated %}
                {# Usu치rio logado: Mostra nome e bot칚o Sair #}
                <a class="nav-link text-primary" href="{{ url_for('cliente.perfil') }}">
                    Ol치, **{{ current_user.nome.split(' ')[0] }}**
                </a>
                <a class="btn btn-secondary btn-sm" href="{{ url_for('auth.logout') }}">
                    Sair
                </a>
                {% else %}
                {# Usu치rio deslogado: Mostra Login e Registro #}
                <a class="nav-link" href="{{ url_for('auth.login') }}">
                    Login
                </a>
                <a class="btn btn-primary btn-sm ms-2" href="{{ url_for('auth.registrar') }}">
                    Registrar
                </a>
                {% endif %}
            </div>
        </div>
    </nav>
</header>